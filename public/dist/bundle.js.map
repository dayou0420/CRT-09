{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://src/./src/app.ts","webpack://src/webpack/before-startup","webpack://src/webpack/startup","webpack://src/webpack/after-startup"],"sourcesContent":["declare var Chart: any;\nclass GeocodingInput {\n    templateElement: HTMLTemplateElement;\n    hostElement: HTMLDivElement;\n    element: HTMLFormElement;\n    addressInputElement: HTMLInputElement;\n    constructor(private apiKey: string,) {\n        this.templateElement = <HTMLTemplateElement>document.getElementById('geocoding-input')!;\n        this.hostElement = <HTMLDivElement>document.getElementById('app')!;\n        const importedNode = document.importNode(this.templateElement.content, true);\n        this.element = <HTMLFormElement>importedNode.firstElementChild;\n        this.element.id = 'user-input';\n        this.addressInputElement = <HTMLInputElement>this.element.querySelector('#address')!;\n        this.configure();\n        this.attach();\n    }\n    private submitHandler(event: Event) {\n        event.preventDefault();\n        this.getGeocoding(this.addressInputElement.value)\n        .then(data => {\n            this.getWeather(data.lat, data.lon)\n            .then(d => {\n                console.log(d);\n            })\n            .catch(e => {\n                console.log(e.message);\n            });\n            this.getWeatherForecast(data.lat, data.lon);\n        })\n        .catch(err => {\n            console.log(err.message);\n        });\n    }\n    private configure() {\n        this.element.addEventListener('submit', this.submitHandler.bind(this));\n    }\n    private attach() {\n        this.hostElement.insertAdjacentElement('afterbegin', this.element);\n    }\n    private async getGeocoding(address: string) {\n        const body = await fetch(\n            `https://api.openweathermap.org/geo/1.0/direct?q=${address}&limit=5&appid=${\n                this.apiKey\n            }`\n        );\n        const data = await body.json();\n        return {\n            lat: data[0].lat,\n            lon: data[0].lon\n        };\n    }\n    private async getWeather(latitude: number, longitude: number) {\n        const body = await fetch(\n            `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=${\n                this.apiKey\n            }`\n        );\n        const data = await body.json();\n        return {\n            city: data.name,\n            main: data.weather[0].main,\n            description: data.weather[0].description,\n            temp: data.main.temp,\n            humidity: data.main.humidity,\n            speed: data.wind.speed\n        }\n    }\n\n    private async getWeatherForecast(latitude: number, longitude: number) {\n        const body = await fetch(\n            `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&units=metric&appid=${\n                this.apiKey\n            }`\n        );\n        const data = await body.json();\n        const time: string[] = data.list.map((m: any) => m.dt_txt);\n        const temp: number[] = data.list.map((m: any) => m.main.temp);\n        const temp_max: number[] = data.list.map((m: any) => m.main.temp_max);\n        const temp_min: number[] = data.list.map((m: any) => m.main.temp_min);\n        const feels_like: number[] = data.list.map((m: any) => m.main.feels_like);\n        const humidity: number[] = data.list.map((m: any) => m.main.humidity);\n        const daily = {\n            labels: time,\n            datasets:\n            [\n                {\n                    label: 'Temperature',\n                    data: temp,\n                    borderColor: 'rgb(75, 192, 192)',\n                    tension: 0.2\n                },\n                {\n                    label: 'Temp Max',\n                    data: temp_max,\n                    borderColor: 'rgb(255, 99, 132)',\n                    tension: 0.2\n                },\n                {\n                    label: 'Temp Min',\n                    data: temp_min,\n                    borderColor: 'rgb(54, 162, 235)',\n                    tension: 0.2\n                },\n                {\n                    label: 'Feels Like',\n                    data: feels_like,\n                    borderColor: 'rgb(255, 159, 64)',\n                    tension: 0.2\n                },\n                {\n                    label: 'Humidity',\n                    data: humidity,\n                    borderColor: 'rgb(153, 102, 255)',\n                    tension: 0.2\n                }\n            ]\n        };\n        new Chart(document.getElementById('daily'), {\n            type: 'line',\n            data: daily\n        });\n    }\n}\nconst API_KEY = '219228b2383f8240a93b11492d102a52';\nconst geoInput = new GeocodingInput(API_KEY);\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./src/app.ts\"]();\n",""],"names":[],"sourceRoot":""}