{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://src/./src/app.ts","webpack://src/webpack/before-startup","webpack://src/webpack/startup","webpack://src/webpack/after-startup"],"sourcesContent":["class GeocodingInput {\n    templateElement: HTMLTemplateElement;\n    hostElement: HTMLDivElement;\n    element: HTMLFormElement;\n    addressInputElement: HTMLInputElement;\n    constructor(private apiKey: string,) {\n        this.templateElement = <HTMLTemplateElement>document.getElementById('geocoding-input')!;\n        this.hostElement = <HTMLDivElement>document.getElementById('app')!;\n        const importedNode = document.importNode(this.templateElement.content, true);\n        this.element = <HTMLFormElement>importedNode.firstElementChild;\n        this.element.id = 'user-input';\n        this.addressInputElement = <HTMLInputElement>this.element.querySelector('#address')!;\n        this.configure();\n        this.attach();\n    }\n    private submitHandler(event: Event) {\n        event.preventDefault();\n        this.getGeocoding(this.addressInputElement.value)\n        .then(data => {\n            this.getWeather(data.lat, data.lon)\n            .then(d => {\n                console.log(d);\n            })\n            .catch(e => {\n                console.log(e.message);\n            })\n        })\n        .catch(err => {\n            console.log(err.message);\n        })\n    }\n    private configure() {\n        this.element.addEventListener('submit', this.submitHandler.bind(this));\n    }\n    private attach() {\n        this.hostElement.insertAdjacentElement('afterbegin', this.element);\n    }\n    private async getGeocoding(address: string) {\n        const body = await fetch(\n            `http://api.openweathermap.org/geo/1.0/direct?q=${address}&limit=5&appid=${\n                this.apiKey\n            }`\n        );\n        const data = await body.json();\n        return {\n            lat: data[0].lat,\n            lon: data[0].lon\n        };\n    }\n    private async getWeather(latitude: number, longitude: number) {\n        const body = await fetch(\n            `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=${\n                this.apiKey\n            }`\n        );\n        const data = await body.json();\n        return {\n            city: data.name,\n            main: data.weather[0].main,\n            description: data.weather[0].description,\n            temp: data.main.temp,\n            humidity: data.main.humidity,\n            speed: data.wind.speed\n        }\n    }\n}\nconst API_KEY = '219228b2383f8240a93b11492d102a52';\nconst geoInput = new GeocodingInput(API_KEY);\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./src/app.ts\"]();\n",""],"names":[],"sourceRoot":""}